// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[{"name":"email","type":"string"}],"name":"sendEther","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"email","type":"string"},{"name":"ethereum_address","type":"address"}],"name":"AddAddress","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"email","type":"string"}],"name":"DeleteAddress","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"email","type":"string"}],"name":"getAddr","outputs":[{"name":"","type":"address"}],"type":"function"},{"inputs":[],"type":"constructor"}],
    binary: "606060405260008054600160a060020a031916331790556105e7806100246000396000f3606060405260e060020a60003504631809ced7811461003c57806355d4411b1461016a578063800870b514610350578063d502db9714610498575b005b61059f6004808035906020019082018035906020019191908080601f01602080910402602001604051908101604052809392919081815260200183838082843750949650505050505050600081600160005081604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160149054906101000a900460ff16600114156105d657600160005083604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160009054906101000a9004600160a060020a0316600160a060020a0316600034604051809050600060405180830381858888f1935050505015156105dd57610002565b61059f6004808035906020019082018035906020019191908080601f01602080910402602001604051908101604052809392919081815260200183838082843750949650509335935050505060008054600160a060020a031681146105d0578054600160a060020a039081163390911614156105d05782600160005081604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160149054906101000a900460ff16600014156105ce5782600160005085604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160006101000a815481600160a060020a03021916908302179055506001600160005085604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160146101000a81548160ff02191690830217905550600160005084604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160149054906101000a900460ff169150506105d0565b61059f6004808035906020019082018035906020019191908080601f0160208091040260200160405190810160405280939291908181526020018383808284375094965050505050505060008054600160a060020a031681146105d857805433600160a060020a03908116911614156105d85781600160005081604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160149054906101000a900460ff16600114156105d657600160005083604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060006000820160006101000a815490600160a060020a0302191690556000820160146101000a81549060ff0219169055505060019150506105d8565b6105b16004808035906020019082018035906020019191908080601f01602080910402602001604051908101604052809392919081815260200183838082843750949650505050505050600081600160005081604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160149054906101000a900460ff16600114156105d657600160005083604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160009054906101000a9004600160a060020a03169150506105d8565b60408051918252519081900360200190f35b60408051600160a060020a03929092168252519081900360200190f35b505b92915050565b505b919050565b60019150506105d856",
    unlinked_binary: "606060405260008054600160a060020a031916331790556105e7806100246000396000f3606060405260e060020a60003504631809ced7811461003c57806355d4411b1461016a578063800870b514610350578063d502db9714610498575b005b61059f6004808035906020019082018035906020019191908080601f01602080910402602001604051908101604052809392919081815260200183838082843750949650505050505050600081600160005081604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160149054906101000a900460ff16600114156105d657600160005083604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160009054906101000a9004600160a060020a0316600160a060020a0316600034604051809050600060405180830381858888f1935050505015156105dd57610002565b61059f6004808035906020019082018035906020019191908080601f01602080910402602001604051908101604052809392919081815260200183838082843750949650509335935050505060008054600160a060020a031681146105d0578054600160a060020a039081163390911614156105d05782600160005081604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160149054906101000a900460ff16600014156105ce5782600160005085604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160006101000a815481600160a060020a03021916908302179055506001600160005085604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160146101000a81548160ff02191690830217905550600160005084604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160149054906101000a900460ff169150506105d0565b61059f6004808035906020019082018035906020019191908080601f0160208091040260200160405190810160405280939291908181526020018383808284375094965050505050505060008054600160a060020a031681146105d857805433600160a060020a03908116911614156105d85781600160005081604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160149054906101000a900460ff16600114156105d657600160005083604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060006000820160006101000a815490600160a060020a0302191690556000820160146101000a81549060ff0219169055505060019150506105d8565b6105b16004808035906020019082018035906020019191908080601f01602080910402602001604051908101604052809392919081815260200183838082843750949650505050505050600081600160005081604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160149054906101000a900460ff16600114156105d657600160005083604051808280519060200190808383829060006004602084601f0104600f02600301f150905001915050908152602001604051809103902060005060000160009054906101000a9004600160a060020a03169150506105d8565b60408051918252519081900360200190f35b60408051600160a060020a03929092168252519081900360200190f35b505b92915050565b505b919050565b60019150506105d856",
    address: "0x86e4463020c5b183fc8fa4a027b7ecb9c8f2733d",
    generated_with: "2.0.9",
    contract_name: "EmailEther"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("EmailEther error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("EmailEther error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("EmailEther error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("EmailEther error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.EmailEther = Contract;
  }

})();
